{{extend 'layout.html'}}

{{block head}}
  
  <!-- Estilo del listado de Solicitudes de Servicios -->
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_listado.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/solicitud.css')}}">
  <link rel="stylesheet" type="text/css" href="{{=URL('static', 'css/servicios_modal.css')}}">
	<link rel="stylesheet" href="{{=URL('static', 'css/servicios_template_modal.css')}}">

{{end}}

{{block center}}
<!-- Bloque de navegación secundaria (breadcrumb) -->
<nav class="navbar navbar-inverse navbar-fixed-top breadcrumbs">
  <div class="breadcrumb">
  <a class="breadcrumb-item" href="{{=URL('..', 'sigulab')}}">Inicio</a>
  <a class="breadcrumb-item" href="{{=URL('..')}}">Servicios</a>
  <span class="breadcrumb-item active">Solicitudes de Servicios</span>
  </div>
</nav>
<!-- Fin del bloque de navegación secundaria (breadcrumb) -->

<!-- Boton que lleva al modal de Solicitud de un Servicio -->
<div class="container">
    <div class="row">
        <div class="col-sm-6"></div>
        <div id="columnBotonAgregar" class="col-sm-6">
          <button type="button" id="botonAgregar" class="btn btn-info" data-toggle="modal" data-target="#modalServiceRequest">Solicitar Servicio</button>
        </div>
    </div>
</div>
<!-- Fin del boton que lleva al modal de Solicitud de un Servicio -->

<!-- Inicio Listado Solicitudes -->
<div id="listadoContainer" class="container">
  <div class="row">
  	<div class="table-responsive" >
  		<table id="tablaListado" class="table table-hover">
  		 <form>
          <!-- Titulos Tabla Solicitudes -->
          <thead>
            <tr id="titulosListado">
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="categoria" id="f_categoria_servicio">Numero de Registro</button></th>
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="tipo" id="f_tipo_servicio">Dependencia Solicitante</button></th>
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="nombre" id="f_nombre_servicio">Dependencia Ejecutora</button></th>
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="seccion" id="f_seccion_servicio">Servicio</button></th>
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="sede" id="f_sede_servicio">Fecha de Solicitud</button></th>
      				<th class="camposTabla"><button class="btn-link linksNombres" name="order" value="laboratorio" id="f_laboratorio_servicio">Estado</button></th>
            </tr>
  		    </thead>

          <!-- Contenido Tabla Solicitudes -->
  	      <tbody>
      			{{for items in grid:}}
      				<tr>
      					<th class="camposTabla">{{=items.noRegistro}}</th>
      					<th class="camposTabla">{{=items.dependenciaSolicitante}}</th>
      					<th class="camposTabla">{{=items.dependenciaEjecutora}}</th>
      					<th class="camposTabla"><a data-toggle="modal" data-target="#myModal" onclick="changeTabs({{=items.nombreServicio}});" >{{=items.nombreServicio}}</a></th>
      					<th class="camposTabla">{{=item.categoriaServicio}}</th>
      					<th class="camposTabla">{{=items.fechaSolicitud}}</th>
      				</tr>
      			{{pass}}
  		    </tbody>
  		 </form>
  		</table>
  	</div>
  </div>

  <!-- Inicio botones pagina -->
	<div class="row">
	  {{if controls['firstpage']:}}
	    <button name="page" value="{{=controls.firstpage}}"> << </button>
	  {{pass}}
	  {{if controls['prevpg']:}}
	    <button name="page" value="{{=controls.prevpage}}"> < </button>
	  {{pass}}
	  {{for page in controls['pages']:}}
	    <button name="page" value="{{=page}}" {{if page == controls['actualpage']:}} class="active"{{pass}}>{{=page}}</button>
	  {{pass}}
	  {{if controls['nextpage']:}}
	    <button name="page" value="{{=controls.nextpage}}"> > </button>
	  {{pass}}
	  {{if controls['lastpage']:}}
	    <button name="page" value="{{=controls.lastpage}}"> >> </button>
	  {{pass}}
	</div>
   <!-- Fin botones pagina -->
</div>
<!-- Fin Listado Solicitudes -->

<!-- Inicio Modal Solicitar Servicio -->
<div class="modal fade" id="modalServiceRequest" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header addHeader">
        <div class="row addRow" id="rowHeader">
          <div class="col-sm-1" id="col1Header">
            <div class="container" id="plus">
              <h1 id="agregar">+</h1>
            </div>
          </div>
          <div class="col-sm-11" id="col11Header">
            <h4 class="modal-title" id="nuevoServicio">Solicitud de Servicio de Laboratorio</h4>
          </div>
        </div>
      </div>
      <!-- Fin Modal Header -->
      
      <!-- Modal Body -->
      <div class="modal-body addBody">
        <div class="row addRow">
          <div class="col-md-12 form-box">
            <!-- Inicio Form -->
            <form id="formularioCarga" class="registration-form" method="post">

              <!-- Primer Paso -->
              <fieldset class="formField">
                <div class="form-bottom" data-step="1" data-title="Primer Paso">
                  <!-- Aqui va la barra lateral -->
                  <div class="col-sm-1 col1Body">
                    <span class="step activePass">1</span>
                    <span class="step">2</span>
                    <span class="step">3</span>
                    <span class="step">4</span>             
                  </div>
                  <!-- Aqui va la informacion -->
                  <div class="col-sm-11 col11Body">
                    <h4 class="titulosForm">Datos Básicos</h4>                
                     	
                      <!-- Numero Registro -->
                     	<div class="mover">
                     	<label class="form-group" id="numRegistro" style="margin-bottom: 0px" style="">Registro</label>
                      <div class="form-group">
                        <input type="text" class="form-control" id="numRegistro" placeholder="Número de Registro" required>
                      </div>
                      </div>

                      <!-- Dependencia Solicitante -->
                      <label class="form-group" id="dependenciaSolicitante" style="margin-bottom: 0px">Dependencia Solicitante</label>
                      <div class="form-group">
                        <input type="text" class="form-control" id="dependenciaSolicitante" placeholder="Dependencia Solicitante" required>
                      </div>

                      <!-- Jefe Dependencia Solicitante -->
                      <label class="form-group" id="jefeDependencia" style="margin-bottom: 0px">Jefe Dependencia Solicitante</label>
                      <div class="form-group">
                        <input type="text" class="form-control" id="jefeDependencia" placeholder="Jefe de la Dependencia Solicitante" required>
                      </div>

                      <!-- Responsable Solicitud -->
                      <label class="form-group" id="respSolicitud" style="margin-bottom: 0px">Responsable Solicitud</label>  
                      <div class="form-group">
                        <input type="text" class="form-control" id="respSolicitud" placeholder="Persona Responsable de la Solicitud" required>
                      </div>                         
                  </div>
                </div>
                <button type="button" class="btn btn-next botonForm">Siguiente</button>
              </fieldset>
              <!-- Fin Primer Paso -->
              
              <!-- Segundo Paso -->
              <fieldset class="formField">
                  <div class="form-bottom" data-step="2" data-title="Segundo Paso">
                    <!-- Aqui va la barra lateral -->
                    <div class="col-sm-1 col1Body">
                      <span class="step">1</span>
                      <span class="step activePass">2</span>
                      <span class="step">3</span>
                      <span class="step">4</span> 
                    </div>

                    <!-- Aqui va la informacion -->
                    <div class="col-sm-11 col11Body">
                    <h4 class="titulosForm">Servicio Solicitado</h4>
                      
                      <!-- Categoria -->
                      <div class="form-group">
                        <select type="select" class="form-control" id="sel1" name="categoriaServicio" required>
                          <option value="" selected hidden >Categoria</option>
                      	<option value="True"></option> 
                        </select>
                      </div>

                      <!-- Tipo Servicio -->
                      <div class="form-group">
                        <select type="select" class="form-control" id="sel2" name="tipoServicio" required>
                          <option value="" selected hidden >Tipo</option>
                     		<option value="True"></option>
                        </select>
                      </div>

                      <!-- Nombre Servicio-->
                      <div class="form-group">
                        <input type="text" class="form-control" id="" name="" placeholder="Nombre">
                      </div>

                      <!-- Propósito -->
                      <div class="form-group">
                        <select type="select" class="form-control" id="sel3" name="" required>
                          <option value="" selected hidden >Propósito</option>
                     		<option value="True"></option>
                        </select>
                      </div>

                      <!-- Descripción -->
                      <div class="form-group">
                        <textarea class="form-control" type="textarea" id="descrip" name="" placeholder="Descripción"></textarea>
                      </div>
                    </div>
                  </div>
                  <button type="button" class="btn btn-previous botonForm">Anterior</button>
                  <button type="button" class="btn btn-next botonForm">Siguiente</button>
              </fieldset>
              <!-- Fin Segundo Paso -->

              <!-- Tercer Paso -->
              <fieldset class="formField">
                <div class="form-bottom" data-step="3" data-title="Tercer Paso">
                  <!-- Aqui va la barra lateral -->
                  <div class="col-sm-1 col1Body">
                    <span class="step">1</span>
                    <span class="step">2</span>
                    <span class="step activePass">3</span>
                    <span class="step">4</span> 
                  </div>
                  
                  <!-- Aqui va la informacion -->
                  <div class="col-sm-11 col11Body col11Body3">
                    <h4 class="titulosForm">Otros Datos</h4>

                    <!-- Dependencia Ejecutora del Servicio -->
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="" placeholder="Dependencia Ejecutora del Servicio">
                    </div>
                    <br>

                    <!-- Jefe Dependencia Ejecutora del Servicio -->
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="" placeholder="Jefe de la Dependencia Ejecutora">
                    </div>

                  </div>
                </div> 
                <button type="button" class="btn btn-previous botonForm">Anterior</button>
                <button type="button" class="btn btn-next botonForm">Siguiente</button>
              </fieldset>
              <!-- Fin Tercer Paso -->

              <!-- Cuarto Paso -->
              <fieldset class="formField">
                <div class="form-row" data-step="4" data-title="Cuarto Paso">
                <!-- Aqui va la barra lateral -->
                  <div class="col-sm-1 col1Body">
                    <span class="step">1</span>
                    <span class="step">2</span>
                    <span class="step">3</span>
                    <span class="step activePass">4</span> 
                  </div>

                <!-- Aqui va la informacion -->
                  <div class="col-sm-11 col11Body col11Body4" >
                  <h4 class="titulosForm">Otros Datos</h4>
                    
                    <!-- Servicio Elaborador por -->
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="" placeholder="Elaborador por">
                    </div>

                    <!-- Servicio Aprobado por -->
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="" placeholder="Aprobado por">
                    </div>

                    <!-- Observaciones -->
                    <div class="form-group">
                        <textarea class="form-control" type="textarea" id="obser" name="" placeholder="Observaciones"></textarea>
                    </div>

                  </div>
                </div>
                <button type="button" class="btn btn-previous botonForm">Anterior</button>
                <button type="submit button" form="formularioCarga" id="submit" class="btn btn-submit botonForm">Agregar</button>                      
              </fieldset>
              <!-- Fin Cuarto Paso -->

            </form>
            <!-- Fin Form -->
          </div>
        </div>               
      </div>
      <!-- Fin Modal Body -->
    </div>
    <!-- Fin Modal content-->
  </div>
</div>
<!-- Inicio Modal Solicitar Servicio -->

<!-- Controlador de pasos del modal de Solicitud de un Servicio -->
<script src="{{=URL('static', 'js/modal-steps.js')}}"></script>

<!-- Validador de inputs del modal de Solicitud de un Servicio -->
<script src="{{=URL('static', 'js/servicios_template_modal.js')}}"></script>

{{end}}